# データベース設計

## 概要
このフォルダには、PostgreSQL 15を使用したデータベース設計に関するドキュメントが含まれています。

## ドキュメント一覧

### 基本設計
- [01_テーブル定義書.md](./01_テーブル定義書.md) - 全テーブルの定義とスキーマ
- [02_ER図.md](./02_ER図.md) - エンティティ関係図
- [03_インデックス設計.md](./03_インデックス設計.md) - パフォーマンス最適化
- [04_データ移行設計.md](./04_データ移行設計.md) - マイグレーション戦略
- [05_バックアップ設計.md](./05_バックアップ設計.md) - データ保護戦略

## 設計方針

### 基本原則
- **UUID主キー**: 分散環境対応とセキュリティ
- **正規化**: 第3正規形までの適用
- **JSON活用**: 柔軟なデータ構造（描画要素）
- **パフォーマンス**: 適切なインデックス設計
- **検索最適化**: GINインデックスによる全文検索対応

### 実装技術
- **データベース**: PostgreSQL 15
- **ORM**: SQLAlchemy 2.0.23
- **マイグレーション**: Alembic 1.12.1
- **ドライバー**: psycopg2-binary 2.9.9
- **検索機能**: 全文検索、タグ検索、複合インデックス

### 主な機能拡張
- **タグシステム**: tags テーブルとwhiteboard_tagsテーブル
- **高度な検索**: GINインデックスによる全文検索
- **検索最適化**: 複合インデックスとパーシャルインデックス
- **論理削除**: whiteboard_tagsでのソフトデリート対応

---
**最終更新**: 2025年8月14日